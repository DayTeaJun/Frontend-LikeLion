<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
  </head>
  <body>
    <script>
      let a = [1]; // 비교 : 0번, 값이 하나밖에 없기 때문
      let b = [3, 2]; // 비교 : 1번
      let c = [3, 2, 1]; // [2, 3, 1] ==> [2, 1, 3] 비교 : 2번
      let d = [4, 3, 2, 1]; // [3, 4, 2, 1] ==> [3, 2, 4, 1] ==> [3, 2, 1, 4] 비교 : 3번
      // 정렬이 처리되는 과정이 마치 거품이 올라오는 모습과 같다고 하여 버블 정렬이라고 함
      // 버블 정렬 : 앞에서부터 하나씩 비교를 해서 자리를 찾음

      let myArr = [10, 9, 8, 5, 6, 1, 3, 4, 2, 1];
      let myArr2 = [10, 9, 8, 5, 6];
      let myArr3 = [1, 1, 2, 3, 4, 5, 6, 8, 9, 10];

      // 아래 함수는 첫번째 요소만 버블정렬됨.
      function bubbleSort(arr) {
        // length - 1 만큼 움직이는 규칙이 있다.
        for (let index = 0; index < arr.length - 1; index++) {
          //원소의 위치를 변경해줌
          if (arr[index] > arr[index + 1]) {
            // let temp = arr[index];
            // arr[index] = arr[index + 1];
            // arr[index + 1] = temp;

            // 구조분해 할당.
            [arr[index], arr[index + 1]] = [arr[index + 1], arr[index]];
          }
          console.log(arr);
        }
        return arr;
      }

      // 아래 함수는 (index2)에서 (arr.length -1) 횟수 만큼 정렬하고, 반복하는(index)만큼 (index2)를 반복
      function bubbleSortAdvanced(arr) {
        for (let index = 0; index < arr.length - 1; index++) {
          for (let index2 = 0; index2 < arr.length - 1; index2++) {
            //원소의 위치를 변경해줌
            if (arr[index2] > arr[index2 + 1]) {
              [arr[index2], arr[index2 + 1]] = [arr[index2 + 1], arr[index2]];
            }
            console.log(arr);
          }
        }
        return arr;
      }
      // 위 함수는 쓸 때 없는 연산(버블정렬이 끝나도 계속 연산함)이 반복됨. 배열의 길이 -1 만큼 반복되기 때문.

      function bubbleSortAdvanced2(arr) {
        let counter = 0;
        for (let index = 0; index < arr.length - 1; index++) {
          // 안쪽 for문이 다 순환할 수록 바깥 index 값이 커져서 순환할 index값이 커진 만큼 -를 해주어, 불필요한 연산을 조금 낮춰준다.
          for (let index2 = 0; index2 < arr.length - 1 - index; index2++) {
            // 원소의 위치를 변경해줍니다.
            if (arr[index2] > arr[index2 + 1]) {
              [arr[index2], arr[index2 + 1]] = [arr[index2 + 1], arr[index2]];
            }
            counter++;
            console.log(arr);
          }
        }
        console.log("counter :", counter);
        return arr;
      }

      function bubbleSortAdvanced3(arr) {
        let counter = 0;
        for (let index = 0; index < arr.length - 1; index++) {
          // 정렬이 필요한 배열인지 상태로 저장한다.
          // true면 원소 정렬이 되어있는 것.
          let isSorted = true;
          for (let index2 = 0; index2 < arr.length - 1 - index; index2++) {
            // 원소의 위치를 변경해줍니다.
            if (arr[index2] > arr[index2 + 1]) {
              [arr[index2], arr[index2 + 1]] = [arr[index2 + 1], arr[index2]];
              isSorted = false;
            }
            console.log(arr);
            counter++;
          }

          // 안쪽 for문이 다 끝날때까지도 true면(정렬이 다 되어있다면) 멈춰라
          if (isSorted) {
            break;
          }
        }
        console.log("counter :", counter);
        return arr;
      }

      let result2 = bubbleSortAdvanced3(myArr);
      let result3 = bubbleSortAdvanced3(myArr2);
    </script>
  </body>
</html>
